{"ast":null,"code":"import _slicedToArray from\"/media/ihabndj/b142a8eb-c60f-43f9-8e6a-56129bf4d903/summer 2022/WEB DESIGN/chatapp/website/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Message from\"../components/Message\";import\"../styles/chat.css\";import Writemsg from\"../components/Writemsg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Chat(_ref){var username=_ref.username,loginStatus=_ref.loginStatus;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),deviceUser=_useState4[0],setDeviceUser=_useState4[1];useEffect(function(){axios.get(\"/api/messages\").then(function(response){setMessages(response.data);}).catch(function(err){return console.log(err);});});useEffect(function(){setDeviceUser(username);},[loginStatus]);console.log(deviceUser);return/*#__PURE__*/_jsxs(\"main\",{className:\"main-chat\",children:[/*#__PURE__*/_jsx(\"div\",{children:messages.map(function(_ref2){var message=_ref2.message,user=_ref2.user,_id=_ref2._id;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Message,{message:message,user:user,deviceUser:deviceUser})},_id);})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Writemsg,{deviceUser:deviceUser})})]});}export default Chat;","map":{"version":3,"names":["React","useState","useEffect","axios","Message","Writemsg","Chat","username","loginStatus","messages","setMessages","deviceUser","setDeviceUser","get","then","response","data","catch","err","console","log","map","message","user","_id"],"sources":["/media/ihabndj/b142a8eb-c60f-43f9-8e6a-56129bf4d903/summer 2022/WEB DESIGN/chatapp/website/server/client/src/pages/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Message from \"../components/Message\";\nimport \"../styles/chat.css\";\nimport Writemsg from \"../components/Writemsg\";\n\nfunction Chat({ username, loginStatus }) {\n  const [messages, setMessages] = useState([]);\n  const [deviceUser, setDeviceUser] = useState();\n  useEffect(() => {\n    axios\n      .get(\"/api/messages\")\n      .then((response) => {\n        setMessages(response.data);\n      })\n      .catch((err) => console.log(err));\n  });\n  useEffect(() => {\n    setDeviceUser(username);\n  }, [loginStatus]);\n  console.log(deviceUser);\n  return (\n    <main className=\"main-chat\">\n      <div>\n        {messages.map(({ message, user, _id }) => {\n          return (\n            <div key={_id}>\n              <Message message={message} user={user} deviceUser={deviceUser} />\n            </div>\n          );\n        })}\n      </div>\n      <div>\n        <Writemsg deviceUser={deviceUser} />\n      </div>\n    </main>\n  );\n}\n\nexport default Chat;\n"],"mappings":"8LAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,MAAO,oBAAP,CACA,MAAOC,SAAP,KAAqB,wBAArB,C,wFAEA,QAASC,KAAT,MAAyC,IAAzBC,SAAyB,MAAzBA,QAAyB,CAAfC,WAAe,MAAfA,WAAe,CACvC,cAAgCP,QAAQ,CAAC,EAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAAoCT,QAAQ,EAA5C,yCAAOU,UAAP,eAAmBC,aAAnB,eACAV,SAAS,CAAC,UAAM,CACdC,KAAK,CACFU,GADH,CACO,eADP,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBL,WAAW,CAACK,QAAQ,CAACC,IAAV,CAAX,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALT,EAMD,CAPQ,CAAT,CAQAhB,SAAS,CAAC,UAAM,CACdU,aAAa,CAACL,QAAD,CAAb,CACD,CAFQ,CAEN,CAACC,WAAD,CAFM,CAAT,CAGAW,OAAO,CAACC,GAAR,CAAYT,UAAZ,EACA,mBACE,cAAM,SAAS,CAAC,WAAhB,wBACE,qBACGF,QAAQ,CAACY,GAAT,CAAa,eAA4B,IAAzBC,QAAyB,OAAzBA,OAAyB,CAAhBC,IAAgB,OAAhBA,IAAgB,CAAVC,GAAU,OAAVA,GAAU,CACxC,mBACE,kCACE,KAAC,OAAD,EAAS,OAAO,CAAEF,OAAlB,CAA2B,IAAI,CAAEC,IAAjC,CAAuC,UAAU,CAAEZ,UAAnD,EADF,EAAUa,GAAV,CADF,CAKD,CANA,CADH,EADF,cAUE,kCACE,KAAC,QAAD,EAAU,UAAU,CAAEb,UAAtB,EADF,EAVF,GADF,CAgBD,CAED,cAAeL,KAAf"},"metadata":{},"sourceType":"module"}